<!DOCTYPE html><html lang="ko" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="[JPA] JPA 정리" /><meta name="author" content="jeonyoungho" /><meta property="og:locale" content="ko" /><meta name="description" content="페치 조인의 한계" /><meta property="og:description" content="페치 조인의 한계" /><link rel="canonical" href="https://jeonyoungho.github.io/posts/JPA-%EC%A0%95%EB%A6%AC/" /><meta property="og:url" content="https://jeonyoungho.github.io/posts/JPA-%EC%A0%95%EB%A6%AC/" /><meta property="og:site_name" content="Youngho’s Devlog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-01T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[JPA] JPA 정리" /><meta name="twitter:site" content="@jeonyoungho_o" /><meta name="twitter:creator" content="@jeonyoungho" /><meta name="google-site-verification" content="eonGeSiIVfF48EnFoJqakC7h2hUzgqxFNJaxkfPiGr0" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"jeonyoungho"},"dateModified":"2021-12-01T00:00:00+09:00","datePublished":"2021-12-01T00:00:00+09:00","description":"페치 조인의 한계","headline":"[JPA] JPA 정리","mainEntityOfPage":{"@type":"WebPage","@id":"https://jeonyoungho.github.io/posts/JPA-%EC%A0%95%EB%A6%AC/"},"url":"https://jeonyoungho.github.io/posts/JPA-%EC%A0%95%EB%A6%AC/"}</script><title>[JPA] JPA 정리 | Youngho's Devlog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Youngho's Devlog"><meta name="application-name" content="Youngho's Devlog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-RF6ZGDWXV1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-RF6ZGDWXV1'); }); </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5958719204143086" crossorigin="anonymous"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/youngho_employee_pic.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Youngho's Devlog</a></div><div class="site-subtitle font-italic">curios developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/jeonyoungho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/jeonyoungho_o" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yhjun1000','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[JPA] JPA 정리</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"> <ins class="adsbygoogle" style="display:block; margin-top: 30px;" data-ad-client="ca-pub-5958719204143086" data-ad-slot="1982371670" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[JPA] JPA 정리</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> jeonyoungho </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Dec 1, 2021, 12:00 AM +0900" prep="on" > Dec 1, 2021 <i class="unloaded">2021-12-01T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2179 words">12 min</span></div></div><div class="post-content"><h1 id="페치-조인의-한계">페치 조인의 한계</h1><h2 id="1-페치-조인-대상에는-별칭alias을-줄-수-없다">1) 페치 조인 대상에는 별칭(alias)을 줄 수 없다.</h2><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>String query = "select t from Team t join fetch t.members as m"
//as m 이라는 별칭(alias)는 fetch join에서 사용할 수 없다.
</pre></table></code></div></div><ul><li>하이버네이트는 가능하지만, 가급적 사용을 하지 않는게 좋다<li>ex: 팀을 조회하는 상황에서 멤버가 5명인데 3명만 조회한 경우 3명만 따로 조작하는 것은 몹시 위험.하다.</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>String query = "select t from Team t join fetch t.members as m where m.age &gt; 10"
</pre></table></code></div></div><ul><li>기본적으로 JPA에서 설계사상은 객체 그래프를 탐색한다는 것은 연관된 엔티티를 모두 가져온다는 것을 가정하고 만들어졌다.<li>fetch join에 별칭을 붙히고 where절을 더해 필터해서 결과를 가져오게 되면 모든걸 가져온 결과와 비교하여 다른 갯수에 대해서 정합성을 보장하지 않는다.<li>하이버네이트는 가능하지만 가급적 사용하지 않는게 좋다.</ul><h2 id="2-둘-이상의-컬렉션은-페치-조인-할-수-없다">2) 둘 이상의 컬렉션은 페치 조인 할 수 없다.</h2><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>String query = "select t from Team t join fetch t.members, t.orders"
//불가능 fetch join에서 컬렉션은 1개만 사용하자.
</pre></table></code></div></div><ul><li>데이터 정합성에 안맞는다.<li>잘못하면 데이터가 예상치 못하게 팍팍 늘어나면서 곱하기 곱하기가 될 수 있다.<li><code class="language-plaintext highlighter-rouge">딱 하나만 지정할 수 있다.</code></ul><h2 id="3-컬렉션일대다을-페치-조인하면-페이징-apisetfirstresult-setmaxresults를-사용할-수-없다">3) 컬렉션(일대다)을 페치 조인하면 페이징 API(setFirstResult, setMaxResults)를 사용할 수 없다.</h2><ul><li><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/44339530/139240439-00e6fddb-f32a-40da-9472-99a9423bef30.png" alt="image" /><li>만약 여기서 페이징이 적용되면 회원1만 남게된다. 그러면 팀A는 회원1만 가지고 있는걸로 되버린다. 문제가 있다.<li>일대일, 다대일 같은 단일 값 연관 필드들은 페치 조인해도 페이징 가능<li>하이버네이트는 경고 로그를 남기고 메모리에서 페이징(매우 위험)<li><p>실제 쿼리에 페이징 구문이 없다? -&gt; 팀이 100만건이면 100만건을 다 메모리에 올리고 페이징한다. 바로 그냥 망한다.</p><li>세 가지 해결법이 있다.<ul><li><b>1)회원에서 팀으로 방향을 반대로 뒤집어 해결하는 방법이 있다.</b></ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>String query = "select m from Member m join fetch m.team t";
List&lt;Member&gt; result = em.createQuery(query, Member.class)
        .setFirstResult(0)
        .setMaxResults(1)
        .getResultList();
</pre></table></code></div></div><ul><li><b>2)<code class="language-plaintext highlighter-rouge">@BatchSize(size = 100)</code> 을 지정하여 해결할 수 가 있다.</b></ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre><td class="rouge-code"><pre>@Entity
public class Team {

  @Id
  @GeneratedValue
  private Long id;

  private String name;

  @BatchSize(size = 100)
  @OneToMany(mappedBy = "team")
  private List&lt;Member&gt; members = new ArrayList&lt;&gt;();
  ...
}

public class JpaMain {
  public static void main(String[] args) {
    ...

    String query = "select t from Team t";
    List&lt;Team&gt; result = em.createQuery(query, Team.class)
            .setFirstResult(0)
            .setMaxResults(2)
            .getResultList();

    System.out.println("result.size() = " + result.size());

    for (Team team : result) {
        System.out.println("team = " + team.getName() + " | " + team.getMembers().size());
        for (Member member : team.getMembers()) {
            System.out.println("- members = " + member);
        }
    }
      
    tx.commit();
  }
}

SQL:
Hibernate: 
  /* load one-to-many jpql.Team.members */ select
      members0_.TEAM_ID as team_id5_0_1_,
      members0_.id as id1_0_1_,
      members0_.id as id1_0_0_,
      members0_.age as age2_0_0_,
      members0_.TEAM_ID as team_id5_0_0_,
      members0_.type as type3_0_0_,
      members0_.username as username4_0_0_ 
  from
      Member members0_ 
  where
      members0_.TEAM_ID in (
          ?, ?
      )
</pre></table></code></div></div><ul><li>처음에 Team테이블 select 쿼리 1번 + List결과에 담긴 Team객체를 100개씩 in절에 담아 members객체에 채워넣는다.<li>global 세팅으로 가져갈 수 있다.</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>&lt;property name="hibernate.default_batch_fetch_size" value="100" /&gt;
</pre></table></code></div></div><ul><li>3)DTO로 쿼리 직접 짜는 방법(DTO로 뽑아도 정제해줘야하기에 만만치 않다)</ul></ul><h4 id="출처">출처</h4><ul><li><a href="https://catsbi.oopy.io/137e5070-40d5-4799-a283-a747fb7a0f2d">https://catsbi.oopy.io/137e5070-40d5-4799-a283-a747fb7a0f2d</a></ul><h1 id="jpql의-distinct">JPQL의 distinct</h1><ul><li>JPQL의 distinct는 두 가지 역할을 한다.<ul><li><b>1)SQL에 distinct를 추가하는 역할</b><li><b>2)애플리케이션에 중복된 객체들을 제거하는 역할</b></ul></ul><h4 id="출처-1">출처</h4><ul><li><a href="https://joont92.github.io/jpa/JPQL/#distinct">https://joont92.github.io/jpa/JPQL/#distinct</a></ul><h1 id="플러시">플러시</h1><ul><li>플러시는 영속성 컨텍스트의 변경 내용을 DB에 반영한다.<li>트랜잭션 커밋이 일어날 떄 플러시가 동작하는데, 쓰기 지연 저장소에 쌓아 놨던 insert, update, delete 쿼리들이 DB에 날라간다.<li>쉽게 얘기해서 영속성 컨텍스트의 변경사항들과 DB를 싱크(동기화)하는 작업이다.</ul><h2 id="플러시-발생">플러시 발생</h2><ul><li>플러시가 발생하면 어떤 일이 생기나?<ul><li>변경을 감지한다. Dirty Checking<li>수정된 엔티티를 쓰기 지연 SQL 저장소에 등록한다.<li>쓰기 지연 SQL 저장소의 쿼리를 DB에 전송한다.(등록, 수정, 삭제 쿼리)<li>플러시가 발생한다고 커밋이 이루어지는게 아니고, 플러시 다음에 커밋이 일어난다.</ul></ul><h2 id="영속성-컨텍스트를-플러시하는-방법">영속성 컨텍스트를 플러시하는 방법</h2><ul><li><code class="language-plaintext highlighter-rouge">em.flush()</code>로 직접 호출</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>// 영속
Member member = new Member(200L, "A");
em.persist(member);
​
em.flush();
​
System.out.println("플러시 직접 호출하면 쿼리가 커밋 전 플러시 호출 시점에 나감");
​
transaction.commit();
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">트랜잭션 커밋</code>시 플러시 자동 호출<li><code class="language-plaintext highlighter-rouge">JPQL 쿼리 실행</code>시 플러시 자동 호출<ul><li>JPQL 쿼리 실행시 플러시가 자동으로 호출되는 이유는<li>아래와 같이 member1,2,3을 영속화한 상태에서. 쿼리는 안날라간 상태<li>JPQL로 SELECT 쿼리를 날리려고 하면 저장되어 있는 값이 없어서 문제가 생길 수 있다.<li>JPA는 이런 상황을 방지하고자 JPQL 실행 전에 무조건 flush()로 DB와의 싱크를 맞춘 다음에 JPQL 쿼리를 날리도록 설정 되어 있다.<li>그래서 아래의 상황에서는 JPQL로 멤버들을 조회할 수 있다.</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>  em.persist(memberA);
  em.persist(memberA);
  em.persist(memberA);
  ​
  // 중간에 JPQL 실행
  query = em.createQuery("select m from Member m", Member.class);
  List&lt;Member&gt; members = query.getResultList();
</pre></table></code></div></div></ul><blockquote><p>플러시가 일어난다 해도 1차 캐시가 삭제되지 않는다. 쓰기 지연 SQL 저장소에 있는 쿼리들만 DB에 전송되고 1차 캐시는 남아있다.</p></blockquote><h2 id="플러시-모드-옵션">플러시 모드 옵션</h2><ul><li><code class="language-plaintext highlighter-rouge">em.setFlushMode(FlushModeType.COMMIT);</code><ul><li><b>FlushModeType.AUTO: 커밋이나 쿼리 실행시 플러시(기본값)</b><li><b>FlushModeType.COMMIT: 커밋 할때만 플러시</b></ul></ul><h2 id="플러시-정리">플러시 정리</h2><ul><li>플러시는 영속성 컨텍스트를 비우지 않는다. 절대 오해하면 안된다.<li>플러시는 영속성 컨텍스트의 변경 내용을 DB에 동기화 한다.<li>플러시가 동작할 수 있는 이유는 DB에 트랜잭션이라는 작업 단위(개념)가 있기 때문이다.<ul><li>어쨋든 트랜잭션이 시작되고 커밋되는 시점에만 동기화 해주면 되기 때문에, 그 사이에서 플러시 매커니즘의 동작이 가능한 것이다.</ul><li>JPA는 기본적으로 데이터를 맞추거나 동시성에 관련된 것들은 DB 트랜잭션에 위임한다. 참고로 알아두자.</ul><blockquote><p>em.clear() 는 영속성 컨텍스트에 저장한 데이터를 지워버린다.(초기화 한다)</p></blockquote><h4 id="출처-2">출처</h4><ul><li><a href="https://ict-nroo.tistory.com/130">개발자의 기록습관</a></ul><h1 id="querydsl과-jpql-차이점">QueryDSL과 JPQL 차이점</h1><p>QueryDSL은 JPQL빌더 역할을 한다.(결국엔 jpql로 변환된다)</p><h4 id="출처-3">출처</h4><ul><li><a href="https://ugo04.tistory.com/m/25">https://ugo04.tistory.com/m/25</a></ul><h1 id="dynamicupdate">@DynamicUpdate</h1><p>Dirty Checking으로 생성되는 update 쿼리는 기본적으로 <code class="language-plaintext highlighter-rouge">모든 필드</code> 를 업데이트한다.</p><p>JPA에선 <b>전체 필드를 업데이트하는 방식을 기본값</b>으로 사용한다. 전체 필드를 업데이트하는 방식의 장점은 다음과 같다.</p><ul><li><b>생성되는 쿼리가 같아 부트 실행시점에 미리 만들어 재사용</b> 가능한다.<li>DB 입장에선 쿼리 재사용이 가능하다.(동일한 쿼리를 받으면 이전에 파싱된 쿼리를 재사용하기에)</ul><p>다만, 필드가 20~30개 이상인 경우엔 이런 전체 필드 Update 쿼리가 부담스러울 수 있다.</p><blockquote><p>사실 이런 경우 정규화가 잘못된 경우일 확률이 높다. 한 테이블에 필드 30개는 확실히 많다.</p></blockquote><p>그래서 이런 경우엔 <code class="language-plaintext highlighter-rouge">@DynamicUpdate</code>로 변경 필드만 반영되도록 할 수 있다.</p><p>엔티티 최상단에 아래와 같이 <code class="language-plaintext highlighter-rouge">@DynamicUpdate</code>를 선언해주시면 된다.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>@Getter
@NoArgsConstructor
@Entity
@DynamicUpdate // 변경한 필드만 대응
public class Pay {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String tradeNo;
    private long amount;
}
</pre></table></code></div></div><p>그러면 변경된 부분만 Update쿼리를 날리게 된다.</p><h4 id="출처-4">출처</h4><ul><li><a href="https://jojoldu.tistory.com/415">https://jojoldu.tistory.com/415</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/backend/'>Backend</a>, <a href='/categories/jpa/'>JPA</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/spring/" class="post-tag no-text-decoration" >spring</a> <a href="/tags/jpa/" class="post-tag no-text-decoration" >jpa</a> <a href="/tags/fetchjoin/" class="post-tag no-text-decoration" >fetchjoin</a> <a href="/tags/querydsl/" class="post-tag no-text-decoration" >querydsl</a> <a href="/tags/jpql/" class="post-tag no-text-decoration" >jpql</a> <a href="/tags/dynamicupdate/" class="post-tag no-text-decoration" >dynamicupdate</a> <a href="/tags/flush/" class="post-tag no-text-decoration" >flush</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[JPA] JPA 정리 - Youngho's Devlog&url=https://jeonyoungho.github.io/posts/JPA-%EC%A0%95%EB%A6%AC/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[JPA] JPA 정리 - Youngho's Devlog&u=https://jeonyoungho.github.io/posts/JPA-%EC%A0%95%EB%A6%AC/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[JPA] JPA 정리 - Youngho's Devlog&url=https://jeonyoungho.github.io/posts/JPA-%EC%A0%95%EB%A6%AC/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5958719204143086" data-ad-slot="1982371670" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-5958719204143086" data-ad-slot="5918543412"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <script src="https://utteranc.es/client.js" repo="jeonyoungho/jeonyoungho.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Kafka-%EB%A9%94%EC%8B%9C%EC%A7%80-%EC%A0%84%EB%8B%AC-%EB%B3%B4%EC%9E%A5-%EB%B0%A9%EC%8B%9D/">Kafka 메시지 전달 보장 방식</a><li><a href="/posts/Transactional-Outbox-%ED%8C%A8%ED%84%B4/">Transactional Outbox 패턴</a><li><a href="/posts/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%A1%B0%EA%B0%81%ED%99%94/">데이터베이스 인덱스 조각화(Fragmentation)</a><li><a href="/posts/Kafka-DeadLetter-%EA%B4%80%EB%A6%AC/">Kafka DeadLetter 관리</a><li><a href="/posts/Redis-%ED%8A%B9%EC%A7%95/">Redis 특징</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/velopert/">velopert</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/poiemaweb/">poiemaweb</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/QueryDSL/"><div class="card-body"> <span class="timeago small" > Jul 1, 2021 <i class="unloaded">2021-07-01T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[JPA] QueryDSL</h3><div class="text-muted small"><p> ※ 실습 프로젝트는 Github에서 확인 할 수 있습니다. QueryDSL이란? Querydsl 정적 타입을 이용해서 SQL과 같은 쿼리를 생성할 수 있도록 해 주는 프레임워크다. 문자열로 작성하거나 XML 파일에 쿼리를 작성하는 대신, Querydsl이 제공하는 플루언트(Fluent) API를 이용해서 쿼리를 생성할 수 있다. QueryDSL를 ...</p></div></div></a></div><div class="card"> <a href="/posts/Entity-Relationships%EA%B0%9C%EC%9A%94/"><div class="card-body"> <span class="timeago small" > Jul 1, 2021 <i class="unloaded">2021-07-01T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[JPA] JPA Entity Relationships</h3><div class="text-muted small"><p> Entity Relationships 총 4가지 타입이 존재 1) @OneToOne 2) @OneToMany, @ManyToOne 3) @ManyToMany 총 2가지 방향성이 존재 1) bidirectional(양방향) 2) unidirectional(단방...</p></div></div></a></div><div class="card"> <a href="/posts/JPA-vs-Hibernate/"><div class="card-body"> <span class="timeago small" > Jul 1, 2021 <i class="unloaded">2021-07-01T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[JPA] JPA vs Hibernate</h3><div class="text-muted small"><p> JPA vs Hibernate JPA(Java Persistence API): 구현물이 없는 인터페이스 Hibernate: JPA의 구현체 JPA만 가지고는 프로그래밍할 순 없고 Hibernate, EclipseLink, DataNucleus와 같은 구현체를 가지고 사용해야한다. SessionFactory(Hiber...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/springdoc-vs-springfox/" class="btn btn-outline-primary" prompt="Older"><p>[Swagger] springdoc vs springfox</p></a> <a href="/posts/Filter%EC%99%80-Interceptor-%EC%B0%A8%EC%9D%B4/" class="btn btn-outline-primary" prompt="Newer"><p>[Spring] Filter와 Interceptor 차이</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/jeonyoungho_o">jeonyoungho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/velopert/">velopert</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/poiemaweb/">poiemaweb</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jeonyoungho.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
