<!DOCTYPE html><html lang="ko" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="DB Lock 알아보기 1편" /><meta name="author" content="jeonyoungho" /><meta property="og:locale" content="ko" /><meta name="description" content="제품을 운영하다보면 Deadlock found when trying to get lock, Lock wait timout exceeded와 같은 DB 동시성 이슈를 마주할 수 있게 된다. 보통 여러 트랜잭션이 동시에 동일 데이터에 대한 select, update 작업들을 수행할때 발생하게 되는데 이와 관련해서 DB Lock에 대해 정리해보고자 한다." /><meta property="og:description" content="제품을 운영하다보면 Deadlock found when trying to get lock, Lock wait timout exceeded와 같은 DB 동시성 이슈를 마주할 수 있게 된다. 보통 여러 트랜잭션이 동시에 동일 데이터에 대한 select, update 작업들을 수행할때 발생하게 되는데 이와 관련해서 DB Lock에 대해 정리해보고자 한다." /><link rel="canonical" href="https://jeonyoungho.github.io/posts/DB-Lock-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1%ED%8E%B8/" /><meta property="og:url" content="https://jeonyoungho.github.io/posts/DB-Lock-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1%ED%8E%B8/" /><meta property="og:site_name" content="Youngho’s Devlog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-02-22T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="DB Lock 알아보기 1편" /><meta name="twitter:site" content="@jeonyoungho_o" /><meta name="twitter:creator" content="@jeonyoungho" /><meta name="google-site-verification" content="eonGeSiIVfF48EnFoJqakC7h2hUzgqxFNJaxkfPiGr0" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"jeonyoungho"},"dateModified":"2025-02-22T00:00:00+09:00","datePublished":"2025-02-22T00:00:00+09:00","description":"제품을 운영하다보면 Deadlock found when trying to get lock, Lock wait timout exceeded와 같은 DB 동시성 이슈를 마주할 수 있게 된다. 보통 여러 트랜잭션이 동시에 동일 데이터에 대한 select, update 작업들을 수행할때 발생하게 되는데 이와 관련해서 DB Lock에 대해 정리해보고자 한다.","headline":"DB Lock 알아보기 1편","mainEntityOfPage":{"@type":"WebPage","@id":"https://jeonyoungho.github.io/posts/DB-Lock-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1%ED%8E%B8/"},"url":"https://jeonyoungho.github.io/posts/DB-Lock-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1%ED%8E%B8/"}</script><title>DB Lock 알아보기 1편 | Youngho's Devlog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Youngho's Devlog"><meta name="application-name" content="Youngho's Devlog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-RF6ZGDWXV1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-RF6ZGDWXV1'); }); </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5958719204143086" crossorigin="anonymous"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/youngho_employee_pic.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Youngho's Devlog</a></div><div class="site-subtitle font-italic">curios developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/jeonyoungho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/jeonyoungho_o" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yhjun1000','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>DB Lock 알아보기 1편</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"> <ins class="adsbygoogle" style="display:block; margin-top: 30px;" data-ad-client="ca-pub-5958719204143086" data-ad-slot="1982371670" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>DB Lock 알아보기 1편</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> jeonyoungho </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Feb 22, 2025, 12:00 AM +0900" prep="on" > Feb 22 <i class="unloaded">2025-02-22T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2187 words">12 min</span></div></div><div class="post-content"><p>제품을 운영하다보면 <code class="language-plaintext highlighter-rouge">Deadlock found when trying to get lock, Lock wait timout exceeded</code>와 같은 DB 동시성 이슈를 마주할 수 있게 된다. 보통 여러 트랜잭션이 동시에 동일 데이터에 대한 select, update 작업들을 수행할때 발생하게 되는데 이와 관련해서 DB Lock에 대해 정리해보고자 한다.</p><h1 id="락lock이란">락(Lock)이란?</h1><p>데이터베이스는 여러 사용자들이 같은 데이터를 동시에 접근하는 상황에서, 데이터 무결성과 일관성을 지키기 위해 락을 사용한다.</p><p>즉, 여러 트랜잭션 간의 동시성을 제어하기 위한 기능이다.</p><h1 id="락의-설정-범위">락의 설정 범위</h1><h2 id="데이터베이스">데이터베이스</h2><p>데이터베이스 범위의 Lock은 전체 데이터베이스를 기준으로 Lock 을 거는 것이다. 즉, 1개의 세션만이 DB의 데이터에 접근이 가능하다.</p><p>해당 기능은 일반적으로 사용하지 않는다. DB의 버전을 올리는 등 주요한 DB 업데이트에 사용한다.</p><h2 id="파일">파일</h2><p>데이터베이스 파일을 기준으로 Lock을 거는 것이다. ‘파일’ 이란 테이블, row 등과 같은 실제 데이터가 쓰여지는 물리적인 저장소입니다. 해당 범위의 Lock은 잘 사용되지 않는다.</p><h2 id="테이블">테이블</h2><p>테이블 수준의 Lock은 테이블을 기준으로 Lock을 거는 것이다. 테이블의 모든 행을 업데이트 하는 등의 전체 테이블에 영향을 주는 변경을 수행할 때 유용하다. 즉 DDL(CREATE, ALTER, DROP) 구문과 함께 사용되며 DDL Lock이라고도 한다.</p><h2 id="페이지와-블록">페이지와 블록</h2><p>파일의 일부인 페이지와 블록을 기준으로 Lock을 거는 것이다. 잘 사용되지는 않습니다.</p><h2 id="컬럼">컬럼</h2><p>컬럼 기준의 Lock은 컬럼을 기준으로 Lock을 거는 것이다. 하지만 이 형식은 Lock 설정 및 해제의 리소스가 많이 들기 때문에 일반적으로 사용되지는 않는다. 지원하는 DBMS도 많지 않다.</p><h2 id="행">행</h2><p>테이블내 1개의 행(Row)를 기준으로 Lock을 거는 것이다. DML에 대한 Lock으로 가장 일반적으로 사용하는 Lock 이다.</p><h1 id="lock의-종류">Lock의 종류</h1><h2 id="공유-락shared-lock">공유 락(Shared Lock)</h2><p>데이터를 변경하지 않는 읽기(ex. select 쿼리)에 대해 주어지는 락으로 <code class="language-plaintext highlighter-rouge">Read Lock</code>이라고도 불리며, <code class="language-plaintext highlighter-rouge">Shared</code> 의 앞 글자를 따서 주로 <code class="language-plaintext highlighter-rouge">S</code>로 표기한다.</p><p><strong>여러 사용자가 동시에 데이터를 읽어도 데이터 일관성에는 아무런 영향을 주지 않기 때문에, 공유 락끼리는 동시 접근이 가능하다.</strong></p><h2 id="베타-락exclusive-lock">베타 락(Exclusive Lock)</h2><p>데이터 변경을 가하는 쓰기 명령(ex. update쿼리 등)들에 대해 주어지는 락으로 <code class="language-plaintext highlighter-rouge">Writer Lock</code> 으로도 불리며, <code class="language-plaintext highlighter-rouge">X</code>로 표기한다.</p><p>베타 락은 이름처럼 다른 세션이 해당 자원에 접근(ex. select 쿼리, insert 쿼리 등)하는 것을 막는다.</p><p>이러한 점에서 베타 락은 멀티 쓰레딩 환경에서, 임계 영역을 안전하게 관리하기 위해 활용되는 뮤텍스와 유사하다고 볼 수 있다. 베타 락은 트랜잭션 동안만 유지된다.</p><h2 id="업데이트-락update-lock">업데이트 락(Update Lock)</h2><p>데이터를 수정하기 위해 베타 락(X)을 걸기 전, 데드 락(교착 상태)을 방지하기 위해 사용되는 락이다. 일반적으로 업데이트 락은 UPDATE 쿼리의 필터(WHERE)가 실행되는 과정에서 적용된다.</p><p>서로 다른 트랜잭션에서 동일한 자원에 대해 읽기 쿼리 이후, 업데이트 쿼리를 적용하는 경우 컨버젼 데드락이 발생하는데, 이를 막기 위해 일부 SELECT 퀴리에서도 업데이트 락을 적용(WITH(UPDLOCK))하기도 한다.</p><p>예를 들어, 두 트랜잭션이 동시에 수행되면 처음에는 공유 락을 걸었다가 update 하는 시점에 베타락으로 전환할 것이다. 그러면 두 트랜잭션은 상대편 트랜잭션의 공유락이 해제되기만을 바라는 DeadLock(교착상태)에 빠지게 된다. 이런 상태를 방지하기 위해 Update(갱신) Lock을 사용할 수 있으며 다음과 같이 사용할 수 있다.</p><div class="language-sql highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">begin</span> <span class="n">tran</span>

    <span class="k">select</span> <span class="o">*</span>
    <span class="k">from</span> <span class="n">dbo</span><span class="p">.</span><span class="n">PLAYER</span> <span class="k">with</span><span class="p">(</span><span class="n">uplock</span><span class="p">)</span>
    <span class="k">where</span> <span class="n">player_id</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="k">update</span> <span class="n">dbo</span><span class="p">.</span><span class="n">PLAYER</span>
    <span class="k">set</span> <span class="n">weight</span> <span class="o">=</span> <span class="mi">80</span>
    <span class="k">where</span> <span class="n">player_id</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">commit</span>
</pre></table></code></div></div><p>위와 같은 쿼리를 실행하면 첫번째 트랜잭션이 업데이트 락을 설정 후 베타 락으로 전환했다가 해제 될때까지, 두번째 트랜잭션이 기다려야하므로 DeadLock(교착상태)를 방지할 수 있다.</p><h2 id="내재-락intent-lock">내재 락(Intent Lock)</h2><p>내재 락은 앞서 소개한 락들과 사뭇 다른 기능을 한다. 내재 락은 사용자가 요청한 범위에 대한 락(ex, 테이블 락)을 걸 수 있는지 여부를 빠르게 파악하기 위해 사용되는 락이다. 내재 락은 공유 락과 베타 락 앞에 <code class="language-plaintext highlighter-rouge">I</code> 기호를 붙인 <code class="language-plaintext highlighter-rouge">IS</code>, <code class="language-plaintext highlighter-rouge">IX</code>, <code class="language-plaintext highlighter-rouge">SIX</code> 등이 있다.</p><p>사용자 A가 테이블의 하나의 로우(<code class="language-plaintext highlighter-rouge">row</code>)에 대해 베타 락(<code class="language-plaintext highlighter-rouge">X</code>)을 건 경우, 사용자 B가 테이블 전체에 대한 락을 걸기 위해서는(ex. 스키마 변경) 사용자 A의 트랜잭션이 끝날 때까지 기다려야 한다. 그러나, 사용자 B가 테이블에 락(<code class="language-plaintext highlighter-rouge">DDL Lock</code>)을 걸 수 있는지 여부를 파악하기 위해 테이블에 존재하는 모든 로우와 관련된 락을 찾아보는 것은 매우 비효율적인 작업이다.</p><p>따라서, 데이터베이스는 사용자 A가 로우에 베타 락(<code class="language-plaintext highlighter-rouge">X</code>)을 거는 시점에, 해당 로우의 상위 객체들(ex, 페이지, 테이블)에 대한 내재 락(<code class="language-plaintext highlighter-rouge">IX</code>)을 걸어, 다른 사용자가 더 큰 범위의 자원들에 대해 락을 걸 수 있는지 여부를 빠르게 파악할 수 있도록 하는 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://github.com/user-attachments/assets/7543589c-42a3-4a35-a455-42d3d4f32b54" alt="Image" /> <em>출처: <a href="https://www.sqlpassion.at/archive/2016/05/16/why-do-we-need-intent-locks-in-sql-server/">Why do we need Intent Locks in SQL Server?</a></em></p><h2 id="lock-escalation">Lock Escalation</h2><p>하나의 로우에 대해 락을 생성하면, 상위 객체들에 대한 내재 락들이 함께 생성된다.</p><p>그러나, 락은 많은 메모리 자원을 필요로 한다. 따라서, 많은 데이터베이스들은 테이블 내 일정 비율 이상의 row에 대한 락을 생성할 경우, 모든 로우에 대해 락을 거는 것이 아닌, 더 상위 객체인 테이블에만 락을 걸도록하여 메모리 사용을 최적화하는 기능인 <code class="language-plaintext highlighter-rouge">Lock Escalation</code>을 지원한다.</p><h1 id="lock의-호환성과-conversion-deadlock">Lock의 호환성과 Conversion Deadlock</h1><p>내제 공유 락(IS)은 베타 락을 제외한 모든 락과 함께 실행이 가능하다. 베타 락은 이름 그대로 다른 락과 호환이 불가능하며, 다른 트랜잭션의 모든 락이 해제될 때까지 실행될 수 없다. 동일하게, 베타 락을 얻은 트랜잭션이 커밋/롤백 할 때까지 동일 범위에 대한 모든 락은 실행 권한을 얻을 수 없다.</p><p>제품 운영 과정에서 종종 발생하는 컨버젼 데드락(Conversion Deadlock)은 다른 공유(S)락과 업데이트 락(U)이 동일한 자원에 접근하는 것을 허용하는 공유 락(S)의 성질에서 기인한다. 데이터베이스는 업데이트(UPDATE … SET … WHERE…)를 실행할 때에, 먼저 해당 자원에 대한 공유 락(S)을 얻어온 후 이를 베타 락(X)으로 전환하게 된다. 이러한 업데이트 쿼리가 동시에 실행되어 두 트랜잭션이 모두 공유 락(S)을 얻은 후 이를 베타 락(X)으로 전환하려 할때, 상대 트랜잭션이 소유하고 있는 공유 락(S)으로 인해 모든 트랜잭션이 베타 락(X)을 얻지 못 해 업데이트에 실패하게 된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://github.com/user-attachments/assets/174d90cb-c346-4c14-b37f-6a10d771dc0e" alt="Image" /> <em>출처: <a href="https://velog.io/@koo8624/Database-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EB%9D%BDLock%EC%9D%98-%EC%A2%85%EB%A5%98%EC%99%80-%EC%97%AD%ED%95%A0">https://velog.io/@koo8624/Database-데이터베이스-락Lock의-종류와-역할</a></em></p><h1 id="reference">Reference</h1><ul><li><a href="https://sewonzzang.tistory.com/76">https://sewonzzang.tistory.com/76</a><li><a href="https://velog.io/@koo8624/Database-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EB%9D%BDLock%EC%9D%98-%EC%A2%85%EB%A5%98%EC%99%80-%EC%97%AD%ED%95%A0">https://velog.io/@koo8624/Database-데이터베이스-락Lock의-종류와-역할</a><li><a href="https://error999.tistory.com/9">https://error999.tistory.com/9</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/backend/'>Backend</a>, <a href='/categories/database/'>Database</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/database/" class="post-tag no-text-decoration" >database</a> <a href="/tags/lock/" class="post-tag no-text-decoration" >lock</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DB Lock 알아보기 1편 - Youngho's Devlog&url=https://jeonyoungho.github.io/posts/DB-Lock-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1%ED%8E%B8/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DB Lock 알아보기 1편 - Youngho's Devlog&u=https://jeonyoungho.github.io/posts/DB-Lock-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1%ED%8E%B8/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=DB Lock 알아보기 1편 - Youngho's Devlog&url=https://jeonyoungho.github.io/posts/DB-Lock-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-1%ED%8E%B8/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5958719204143086" data-ad-slot="1982371670" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-5958719204143086" data-ad-slot="5918543412"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <script src="https://utteranc.es/client.js" repo="jeonyoungho/jeonyoungho.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Kafka-%EB%A9%94%EC%8B%9C%EC%A7%80-%EC%A0%84%EB%8B%AC-%EB%B3%B4%EC%9E%A5-%EB%B0%A9%EC%8B%9D/">Kafka 메시지 전달 보장 방식</a><li><a href="/posts/Transactional-Outbox-%ED%8C%A8%ED%84%B4/">Transactional Outbox 패턴</a><li><a href="/posts/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%A1%B0%EA%B0%81%ED%99%94/">데이터베이스 인덱스 조각화(Fragmentation)</a><li><a href="/posts/Kafka-DeadLetter-%EA%B4%80%EB%A6%AC/">Kafka DeadLetter 관리</a><li><a href="/posts/Redis-%ED%8A%B9%EC%A7%95/">Redis 특징</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/velopert/">velopert</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/poiemaweb/">poiemaweb</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/charset%EA%B3%BC-collation/"><div class="card-body"> <span class="timeago small" > Dec 16, 2022 <i class="unloaded">2022-12-16T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Database] charset과 collation</h3><div class="text-muted small"><p> MySQL 또는 MariaDB 를 사용하여 컬럼에 unqiue 제약 조건을 걸었더니 대소문자를 구별하지 않는 것을 새로 알게 되었고 그 이유에 대해서 알아보았다. 즉, AAA 와 aaa 와 동일하게 취급하여 유니크 제약 조건으로 인해 둘 중 하나의 insert가 안되는 것이다. unquie 제약 조건을 추가하는 DDL 명령어는 아래와 같다. AL...</p></div></div></a></div><div class="card"> <a href="/posts/Outer-Join/"><div class="card-body"> <span class="timeago small" > Jun 30, 2021 <i class="unloaded">2021-06-30T21:05:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Database] Outer Join</h3><div class="text-muted small"><p> Outer Join Inner Join이 Join조건에 부합하는 행만 Join이 발생하는 것이라면, Outer Join은 조건에 부합하지 않는 행까지도 포함시켜 결합하는 것을 의미한다.(합집합의 영역) 자주는 아니지만, 가끔 유용하게 사용될 수 있으므로 꼭 알아둘 필요는 있다. Outer Join 구조 SELECT &lt;열 목록&gt; ...</p></div></div></a></div><div class="card"> <a href="/posts/Join/"><div class="card-body"> <span class="timeago small" > Jun 30, 2021 <i class="unloaded">2021-06-30T21:10:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Database] Join</h3><div class="text-muted small"><p> Join 여러 테이블에 흩어져 있는 정보 중 사용자가 필요한 정보만 가져와 가상의 테이블을 만들어 보여주는 것으로 2개의 테이블을 조합하여 하나의 열로 표현하는 것이다. Join의 종류 1) INNER JOIN 2) CROSS JOIN 3) OUTER JOIN 4) SELF JOIN 1. INNER JOIN INNER...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Kafka-%EA%B8%B0%EB%B0%98-%EB%8C%80%EA%B7%9C%EB%AA%A8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%8F%99%EC%8B%9C%EC%84%B1-%EC%B5%9C%EC%A0%81%ED%99%94-Request-Reply-%ED%8C%A8%ED%84%B4-%ED%99%9C%EC%9A%A9-%EC%82%AC%EB%A1%80/" class="btn btn-outline-primary" prompt="Older"><p>Kafka 기반 대규모 데이터 동시성 최적화: Request-Reply 패턴 활용 사례</p></a> <a href="/posts/JPA-Batch-Insert%EC%9D%98-%EC%82%AC%EC%8B%A4%EA%B3%BC-%EC%98%A4%ED%95%B4/" class="btn btn-outline-primary" prompt="Newer"><p>Spring Data JPA Batch Insert의 사실과 오해</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/jeonyoungho_o">jeonyoungho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/velopert/">velopert</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/poiemaweb/">poiemaweb</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jeonyoungho.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
