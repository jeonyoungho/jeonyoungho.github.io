<!DOCTYPE html><html lang="ko" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화" /><meta name="author" content="jeonyoungho" /><meta property="og:locale" content="ko" /><meta name="description" content="웹팩 최적화 코드가 많아지면 번들링된 결과물도 커지기 마련이다. 거의 메가바이트 단위로 커질수도 있는데 브라우져 성능에 영향을 줄 수 있다. 파일을 다운로드하는데 시간이 많이 걸리기 때문이다. 이번 포스팅에서는 번들링한 결과물을 어떻게 최적화 할수 있는지 몇가지 방법에 대해 알아볼 것이다." /><meta property="og:description" content="웹팩 최적화 코드가 많아지면 번들링된 결과물도 커지기 마련이다. 거의 메가바이트 단위로 커질수도 있는데 브라우져 성능에 영향을 줄 수 있다. 파일을 다운로드하는데 시간이 많이 걸리기 때문이다. 이번 포스팅에서는 번들링한 결과물을 어떻게 최적화 할수 있는지 몇가지 방법에 대해 알아볼 것이다." /><link rel="canonical" href="https://jeonyoungho.github.io/posts/%EC%9B%B9%ED%8C%A9-%EC%B5%9C%EC%A0%81%ED%99%94/" /><meta property="og:url" content="https://jeonyoungho.github.io/posts/%EC%9B%B9%ED%8C%A9-%EC%B5%9C%EC%A0%81%ED%99%94/" /><meta property="og:site_name" content="Youngho’s Devlog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-27T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화" /><meta name="twitter:site" content="@jeonyoungho_o" /><meta name="twitter:creator" content="@jeonyoungho" /><meta name="google-site-verification" content="eonGeSiIVfF48EnFoJqakC7h2hUzgqxFNJaxkfPiGr0" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"jeonyoungho"},"dateModified":"2022-03-27T00:00:00+09:00","datePublished":"2022-03-27T00:00:00+09:00","description":"웹팩 최적화 코드가 많아지면 번들링된 결과물도 커지기 마련이다. 거의 메가바이트 단위로 커질수도 있는데 브라우져 성능에 영향을 줄 수 있다. 파일을 다운로드하는데 시간이 많이 걸리기 때문이다. 이번 포스팅에서는 번들링한 결과물을 어떻게 최적화 할수 있는지 몇가지 방법에 대해 알아볼 것이다.","headline":"[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화","mainEntityOfPage":{"@type":"WebPage","@id":"https://jeonyoungho.github.io/posts/%EC%9B%B9%ED%8C%A9-%EC%B5%9C%EC%A0%81%ED%99%94/"},"url":"https://jeonyoungho.github.io/posts/%EC%9B%B9%ED%8C%A9-%EC%B5%9C%EC%A0%81%ED%99%94/"}</script><title>[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화 | Youngho's Devlog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Youngho's Devlog"><meta name="application-name" content="Youngho's Devlog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-RF6ZGDWXV1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-RF6ZGDWXV1'); }); </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5958719204143086" crossorigin="anonymous"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/youngho_employee_pic.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Youngho's Devlog</a></div><div class="site-subtitle font-italic">curios developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/jeonyoungho" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/jeonyoungho_o" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yhjun1000','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"> <ins class="adsbygoogle" style="display:block; margin-top: 30px;" data-ad-client="ca-pub-5958719204143086" data-ad-slot="1982371670" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> jeonyoungho </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Mar 27, 2022, 12:00 AM +0900" prep="on" > Mar 27, 2022 <i class="unloaded">2022-03-27T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2906 words">16 min</span></div></div><div class="post-content"><h1 id="웹팩-최적화">웹팩 최적화</h1><p>코드가 많아지면 번들링된 결과물도 커지기 마련이다. 거의 메가바이트 단위로 커질수도 있는데 브라우져 성능에 영향을 줄 수 있다. 파일을 다운로드하는데 시간이 많이 걸리기 때문이다. 이번 포스팅에서는 <code class="language-plaintext highlighter-rouge">번들링한 결과물을 어떻게 최적화 할수 있는지</code> 몇가지 방법에 대해 알아볼 것이다.</p><h2 id="1-production-모드">1) production 모드</h2><p>웹팩에 내장되어 있는 최적화 방법중 <code class="language-plaintext highlighter-rouge">mode 값을 설정하는 방식이 가장 기본</code>이다. 세 가지 값이 올 수 있는데 지금까지 설정한 <code class="language-plaintext highlighter-rouge">"development"</code>는 <b>디버깅 편의를 위해 아래 두 개 플러그인을 사용한다.</b></p><ul><li>NamedChunksPlugin<li>NamedModulesPlugin</ul><p><code class="language-plaintext highlighter-rouge">DefinePlugin</code>을 사용한다면 process.env.NODE_ENV 값이 <code class="language-plaintext highlighter-rouge">"development"</code>로 설정되어 <code class="language-plaintext highlighter-rouge">어플리케이션에 전역변수로 주입</code>된다.</p><p>반면 mode를 <code class="language-plaintext highlighter-rouge">"production"</code>으로 설정하면 <code class="language-plaintext highlighter-rouge">자바스크립트 결과물을 최소화 하기 위해 다음 일곱 개 플러그인을 사용</code>한다.</p><ul><li>FlagDependencyUsagePlugin<li>FlagIncludedChunksPlugin<li>ModuleConcatenationPlugin<li>NoEmitOnErrorsPlugin<li>OccurrenceOrderPlugin<li>SideEffectsFlagPlugin<li>TerserPlugin</ul><p>DefinePlugin을 사용한다면 process.env.NODE_ENV 값이 “production” 으로 설정되어 어플리케이션 전역변수로 들어간다.</p><p>그럼 환경변수 NODE_ENV 값에 따라 모드를 설정하도록 웹팩 설정 코드를 다음과 같이 추가할 수 있겠다.</p><ul><li>webpack.config.js</ul><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">mode</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">||</span> <span class="dl">"</span><span class="s2">development</span><span class="dl">"</span> <span class="c1">// 기본값을 development로 설정</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">mode</span><span class="p">,</span>
<span class="p">}</span>
</pre></table></code></div></div><p>빌드 시에 이를 운영 모드로 설정하여 실행하도록 npm 스크립트를 추가한다.</p><ul><li>package.json</ul><div class="language-json highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack-dev-server --progress"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NODE_ENV=production webpack --progress"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>start는 개발 서버를 구동하기 때문에 환경변수를 설정하지 않고 기본값 development를 사용할 것이다. 배포용으로 만들 build는 환경변수를 production으로 설정했고 웹팩 mode에 설정된다.</p><p>빌드한 뒤 결과물을 확인해 보자.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm run build
</pre></table></code></div></div><p><img width="418" alt="스크린샷 2022-03-27 오후 2 37 49" src="https://user-images.githubusercontent.com/44339530/160268322-ca6b3d9b-5d57-49e4-b599-8274276fc0ea.png" /> <em>development 모드의 js 번들 파일</em></p><p><img width="424" alt="스크린샷 2022-03-27 오후 2 38 21" src="https://user-images.githubusercontent.com/44339530/160268333-cefe3c68-1197-4f0d-bc01-cf2103b835b7.png" /> <em>production 모드의 js 번들 파일</em></p><p>모드에 따른 빌드 결과물들을 비교해 보면 확연한 차이를 볼 수 있다. production모드는 <a href="https://ko.wikipedia.org/wiki/%EB%82%9C%EB%8F%85%ED%99%94">난독화</a> 작업이 들어가기에 알아보기 힘든 코드로 이루어진 것을 확인할 수 있다.</p><h2 id="2-optimization-속성으로-최적화">2) optimization 속성으로 최적화</h2><p>빌드 과정을 커스터마이징할 수 있는 여지를 제공하는데 그것이 바로 <a href="https://webpack.js.org/configuration/optimization/">optimization</a> 속성이다.</p><p>HtmlWebpackPlugin이 html 파일을 압축한것 처럼 css 파일도 빈칸을 없애는 압축을 하려면 어떻게 해야할까? <a href="https://webpack.js.org/plugins/mini-css-extract-plugin/#minimizing-for-production">optimize-css-assets-webpack-plugin</a>을 사용하면 된다.</p><p>플러그인을 다운로드 하고,</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm i -D optimize-css-assets-webpack-plugin
</pre></table></code></div></div><p>웹팩 설정을 추가한다.</p><ul><li>webpack.config.js</ul><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">OptimizeCSSAssetsPlugin</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">optimize-css-assets-webpack-plugin</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">optimization</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">minimizer</span><span class="p">:</span> <span class="nx">mode</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">production</span><span class="dl">"</span> <span class="p">?</span> <span class="p">[</span><span class="k">new</span> <span class="nc">OptimizeCSSAssetsPlugin</span><span class="p">()]</span> <span class="p">:</span> <span class="p">[],</span>
  <span class="p">},</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="https://webpack.js.org/configuration/optimization/#optimizationminimizer">optimization.minimizer</a>는 웹팩이 결과물을 압축할때 사용할 플러그인을 넣는 배열이다. 설치한 OptimizeCSSAssetsPlugin을 전달해서 빌드 결과물중 css 파일을 압축하도록 했다.</p><p>빌드하뒤 확인하면 css 파일도 압축된 것을 확인할 수 있다.</p><p><img width="421" alt="스크린샷 2022-03-27 오후 2 55 17" src="https://user-images.githubusercontent.com/44339530/160268728-0e2743e0-901b-4d12-9ba6-cac500dd1a8b.png" /></p><p>mode=production일 경우 사용되는 <a href="https://webpack.js.org/plugins/terser-webpack-plugin/">TerserWebpackPlugin</a>은 자바스크립트 코드를 난독화하고 debugger 구문을 제거한다. 기본 설정 외에도 <a href="https://github.com/terser/terser#compress-options">콘솔 로그를 제거하는 옵션</a>도 있는데 배포 버전에는 로그를 감추는 것이 좋을 수도 있기 때문이다.</p><p>이 플러그인을 설치한 뒤,</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm i -D terser-webpack-plugin
</pre></table></code></div></div><p>optimization.minimizer 배열에 추가한다.</p><ul><li>webpack.config.js</ul><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">TerserPlugin</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">terser-webpack-plugin</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">optimization</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">minimizer</span><span class="p">:</span>
      <span class="nx">mode</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">production</span><span class="dl">"</span>
        <span class="p">?</span> <span class="p">[</span>
            <span class="k">new</span> <span class="nc">TerserPlugin</span><span class="p">({</span>
              <span class="na">terserOptions</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">compress</span><span class="p">:</span> <span class="p">{</span>
                  <span class="na">drop_console</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// 콘솔 로그를 제거한다</span>
                <span class="p">},</span>
              <span class="p">},</span>
            <span class="p">}),</span>
          <span class="p">]</span>
        <span class="p">:</span> <span class="p">[],</span>
  <span class="p">},</span>
<span class="p">}</span>
</pre></table></code></div></div><p><img width="440" alt="스크린샷 2022-03-27 오후 2 57 40" src="https://user-images.githubusercontent.com/44339530/160268789-ab2aa187-bf9f-49c8-ad04-cdade569d7ff.png" /></p><p>빌드된 결과물을 보면 콘솔 로그가 제거된 것을 확인할 수 있다.</p><h2 id="3-코드-스플리팅분할">3) 코드 스플리팅(분할)</h2><p>이렇게 해서 js, css를 압축했음에도 프로젝트가 커지면 파일을 다운로드하는데도 시간이 걸릴 것이고, 브라우저 성능에 영향을 줄 것이다.</p><p>이럴땐 큰 파일을 아예 쪼개서 분할하는 방법이 있다. <b>큰 파일 하나를 다운로드 하는것 보다 작은 파일 여러개를 동시에 다운로드하는 것이 더 빠르기 때문이다.</b></p><p>가장 단순한 것은 엔트리를 여러개로 분리하는 것이다.</p><ul><li>webpack.config.js</ul><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">entry</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">main</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./src/app.js</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">result</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./src/result.js</span><span class="dl">"</span>
  <span class="p">},</span>
<span class="p">}</span>
</pre></table></code></div></div><p>빌드하면 엔트리가 두 개 생성되고 물론 하나의 엔트리일 때보다 용량이 조금 줄었다.</p><p><img width="584" alt="스크린샷 2022-03-27 오후 3 10 22" src="https://user-images.githubusercontent.com/44339530/160269088-07872a4a-0c23-4229-8c4c-519574f4ce87.png" /></p><p>모듈을 어떻게 분리하는냐에 따라 이 결과물의 크기를 조절할 수 있는데 지금은 거의 변화가 없다. HtmlWebpackPlugin에 의해 html 코드에서 두 파일을 로딩하는 코드도 추가된다.</p><p>하지만 두 파일을 비교해 보면 중복코드가 있다.</p><p><img width="424" alt="스크린샷 2022-03-27 오후 3 12 08" src="https://user-images.githubusercontent.com/44339530/160269119-e3d7b173-1bf9-4af2-8614-af379ac098e5.png" /> <em>main.js 파일의 axios 중복 코드</em></p><p><img width="417" alt="스크린샷 2022-03-27 오후 3 12 19" src="https://user-images.githubusercontent.com/44339530/160269121-ac70add4-8d8e-4aa9-850a-a89c52a36ce7.png" /> <em>result.js 파일의 axios 중복 코드</em></p><p>axios 모듈인데 main, result 둘 다 axios를 사용하기 때문이다.</p><p><a href="https://webpack.js.org/guides/code-splitting/#prevent-duplication">SplitChunksPlugin</a>은 코드를 분리할때 <code class="language-plaintext highlighter-rouge">중복을 예방하는 플러그인</code>이다. <code class="language-plaintext highlighter-rouge">optization.splitChucks</code> 속성을 설정하는 방식이다.</p><ul><li>webpack.config.js</ul><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">optimization</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">splitChunks</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">chunks</span><span class="p">:</span> <span class="dl">"</span><span class="s2">all</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">}</span>
</pre></table></code></div></div><p>다시 빌드해보면 main과 result에서 중복된 코드가 사리지고 <code class="language-plaintext highlighter-rouge">vendors~main~result.js</code> 파일이 생기고 사라진 중복 코드가 들어가 있는 것을 확인할 수 있다.</p><p><img width="948" alt="스크린샷 2022-03-27 오후 3 14 55" src="https://user-images.githubusercontent.com/44339530/160269196-c8e49d26-fc22-4687-93b8-52c239945954.png" /></p><p><b>이런 방식은 엔트리 포인트를 적절히 분리해야기 때문에 손이 많이 가는 편이다. 반면 자동으로 변경해 주는 방식이 있는데 이를 다이나믹 임포트라고 부른다.</b></p><h3 id="다이나믹-임포트">다이나믹 임포트</h3><p>기존 app.js 를 아래와 같이 변경해보자.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">form</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./form</span><span class="dl">"</span><span class="p">;</span>
<span class="c1">// import result from "./result";</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./app.css</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">formEl</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">resultEl</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">DOMContentLoaded</span><span class="dl">"</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">formEl</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">formEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">form</span><span class="p">.</span><span class="nf">render</span><span class="p">();</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">formEl</span><span class="p">);</span>

  <span class="k">import</span><span class="p">(</span><span class="cm">/* webpackChunkName: "result" */</span><span class="dl">"</span><span class="s2">./result.js</span><span class="dl">"</span><span class="p">).</span><span class="nf">then</span><span class="p">(</span><span class="k">async</span> <span class="nx">m</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="k">default</span><span class="p">;</span>
    <span class="nx">resultEl</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">resultEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">result</span><span class="p">.</span><span class="nf">render</span><span class="p">();</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">resultEl</span><span class="p">);</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></table></code></div></div><p>상단에서 import로 가져왔던것을 함수 내부에서 가져오도록 변경하였다. import() 함수로 가져올 result 모듈 경로를 전달하는데 주석으로 <code class="language-plaintext highlighter-rouge">webpackHunkName: "result"</code>를 전달했다. 이것은 웹펙이 이 파일을 처리할때 청크로 분리하는데 그 청크 이름을 설정한 것이다.</p><p>변경한 웹팩 설정 파일도 다시 복구해야 한다. 엔트리 포인트를 다시 main만 남겨두고 optimization에 설정한 SplitChunksPlugin 옵션도 제거한다.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">entry</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">main</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./src/app.js</span><span class="dl">"</span><span class="p">,</span>
    <span class="c1">// result: "./src/result.js"</span>
  <span class="p">},</span>
  <span class="na">optimization</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">minimizer</span><span class="p">:</span> <span class="nx">mode</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">production</span><span class="dl">"</span> <span class="p">?</span> <span class="p">[</span>
      <span class="k">new</span> <span class="nc">OptimizeCSSAssertsPlugin</span><span class="p">(),</span>
      <span class="k">new</span> <span class="nc">TerserPlugin</span><span class="p">({</span>
        <span class="na">terserOptions</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">compress</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">drop_console</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// 콘솔 로그를 제거한다.</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">})</span>
    <span class="p">]</span> <span class="p">:</span> <span class="p">[],</span>
    <span class="c1">// splitChunks: {</span>
    <span class="c1">//   chunks: "all" // 중복되는 코드를 제거하고 엔트리 포인트를 다시 빌드한다.</span>
    <span class="c1">// }</span>
  <span class="p">},</span>
</pre></table></code></div></div><p>빌드하면 자동으로 파일이 분리되었다.</p><p><img width="965" alt="스크린샷 2022-03-27 오후 3 29 25" src="https://user-images.githubusercontent.com/44339530/160269567-b2b793fa-90d9-42bb-b917-8746ad5a15e2.png" /></p><p>엔트리를 분리하지 않아도 app과 result의 중복코드를 vendors~result.js 파일로 분리할 수있다. <b>다이나믹 임포트로 모듈을 가져오면 단일 엔트리를 유지하면서 코드를 분리할 수 있다.</b></p><p>추가로 아래와 같이 별도 함수로 추출하여 다이나믹 임포트를 설정할 수 있다.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">getResult</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">import</span><span class="p">(</span><span class="cm">/* webpackChunkName: "result" */</span> <span class="dl">"</span><span class="s2">./result</span><span class="dl">"</span><span class="p">).</span><span class="nf">then</span><span class="p">(</span><span class="nx">m</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">m</span><span class="p">.</span><span class="k">default</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="nb">document</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">DOMContentLoaded</span><span class="dl">"</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">formEl</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">formEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">form</span><span class="p">.</span><span class="nf">render</span><span class="p">();</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">formEl</span><span class="p">);</span>

  <span class="nf">getResult</span><span class="p">().</span><span class="nf">then</span><span class="p">(</span><span class="k">async</span> <span class="nx">m</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">m</span><span class="p">;</span>
    <span class="nx">resultEl</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">resultEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">result</span><span class="p">.</span><span class="nf">render</span><span class="p">();</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">resultEl</span><span class="p">);</span>
  <span class="p">})</span>
<span class="p">});</span>
</pre></table></code></div></div><blockquote><p><strong>Note</strong>: 이런식으로 코드를 스플리팅 하는 것은 개발 초기단계에는 불필요하다. 코드가 많아지고 번들 결과물이 1메가 이상으로 커져버리면 그때가서 코드를 분리해도 늦지 않는다.</p></blockquote><h2 id="4-externals">4) externals</h2><p>조금만 더 생각해 보면 최적화해 볼 수 있는 부분이 있다. <code class="language-plaintext highlighter-rouge">바로 axios같은 써드파티 라이브러리다. 패키지로 제공될때 이미 빌드 과정을 거쳤기 때문에 빌드 프로세스에서 제외하는 것이 좋다.</code> 웹팩 설정중 <a href="https://webpack.js.org/configuration/externals/">externals</a>가 바로 이러한 기능을 제공한다</p><ul><li>webpack.config.js</ul><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">externals</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">axios</span><span class="p">:</span> <span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//  웹팩으로 빌드할떄 axios모듈을 사용하는 부분이 있으면 전역변수 axios를 사용하는 것으로 간주하라는 설정</span>
  <span class="p">},</span>
<span class="p">}</span>
</pre></table></code></div></div><p>externals에 추가하면 웹팩은 코드에서 axios를 사용하더라도 번들에 포함하지 않고 빌드한다. 대신 이를 전역 변수로 접근하도록하는데 키로 설정한 axios가 그 이름이다.</p><p>axios는 이미 node_modules에 위치해 있기 때문에 이를 웹팩 아웃풋 폴더에 옮기고 index.html에서 로딩해야한다. 파일을 복사하는 <a href="https://webpack.js.org/plugins/copy-webpack-plugin/">CopyWebpackPlugin</a>을 설치한다.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm i -D copy-webpack-plugin
</pre></table></code></div></div><p>플러그인을 사용해서 라이브러리를 복사한다.</p><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">CopyPlugin</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">copy-webpack-plugin</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
    <span class="k">new</span> <span class="nc">CopyPlugin</span><span class="p">([</span>
      <span class="p">{</span>
        <span class="na">from</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./node_modules/axios/dist/axios.min.js</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">to</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./axios.min.js</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 목적지 파일에 들어간다</span>
      <span class="p">},</span>
    <span class="p">]),</span>
  <span class="p">],</span>
<span class="p">}</span>
</pre></table></code></div></div><p>마지막으로 index.html에서는 axios를 로딩하는 코드를 추가한다.</p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- src/index.html --&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"axios.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>axios는 이렇게 직접 추가했지만 번들링한 결과물은 htmlWebpackPlugin이 주입해 주는 것을 잊지말자.</p><p>다시 빌드해 보면…</p><p><img width="1248" alt="스크린샷 2022-03-27 오후 3 50 57" src="https://user-images.githubusercontent.com/44339530/160270167-f3ba3dc6-2834-4ac0-985a-2ae3e06b5b9e.png" /></p><p>axios는 빌드하지 않고 복사만 한다. app와 result 모듈이 분리되었다. 이전에는 공통의 코드인 axios가 vender~.js로 분리되었는데 지금은 파일조차 없다.</p><p>만약 써드파티 라이브러리 외에 공통의 코드가 있다면 이 파일로 분리되었을 것이다. <b>이렇게 써드파티 라이브러리를 externals로 분리하면 용량이 감소뿐만 아니라 빌드시간도 줄어들고 덩달아 개발 환경도 가벼워질 수 있다.</b></p><h2 id="정리">정리</h2><p>웹팩 사용방법에 대해 좀더 알아 보았다.</p><p><code class="language-plaintext highlighter-rouge">개발 서버를 띄워 파일 감지</code>, <code class="language-plaintext highlighter-rouge">api 서버 연동</code> 등 개발 환경을 좀 더 편리하게 구성할 수 있었다. 특히 <code class="language-plaintext highlighter-rouge">핫 모듈 리플레이스먼트</code>는 일부 모듈의 변경만 감지하여 페이지 갱신 없이 변경사항을 브라우져에 렌더링할 수 있다.</p><p>웹팩 최적화 방법에 대해서도 알아보았다. <code class="language-plaintext highlighter-rouge">mode 옵션을 production으로 설정하면 웹팩 내장 플러그인이 프로덕션 모드로 동작한다.</code> 번들링 결과물 크기가 커지면 브라우져에서 다운로딩하는 성능이 떨어질수 있는데 <code class="language-plaintext highlighter-rouge">코드 스플리팅 기법</code>을 사용해서 해결할 수 있다. 써드파티 라이브러리는 <code class="language-plaintext highlighter-rouge">externals</code>로 옮겨 빌드 과정에서 제외할수 있다.</p><h4 id="출처">출처</h4><ul><li><a href="https://jeonghwan-kim.github.io/series/2020/01/02/frontend-dev-env-webpack-intermediate.html">https://jeonghwan-kim.github.io/series/2020/01/02/frontend-dev-env-webpack-intermediate.html</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/frontend/'>Frontend</a>, <a href='/categories/environment/'>Environment</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/webpack/" class="post-tag no-text-decoration" >webpack</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화 - Youngho's Devlog&url=https://jeonyoungho.github.io/posts/%EC%9B%B9%ED%8C%A9-%EC%B5%9C%EC%A0%81%ED%99%94/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화 - Youngho's Devlog&u=https://jeonyoungho.github.io/posts/%EC%9B%B9%ED%8C%A9-%EC%B5%9C%EC%A0%81%ED%99%94/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[프론트엔드 개발환경의 이해와 실습] 웹팩 최적화 - Youngho's Devlog&url=https://jeonyoungho.github.io/posts/%EC%9B%B9%ED%8C%A9-%EC%B5%9C%EC%A0%81%ED%99%94/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5958719204143086" data-ad-slot="1982371670" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-5958719204143086" data-ad-slot="5918543412"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <script src="https://utteranc.es/client.js" repo="jeonyoungho/jeonyoungho.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Kafka-%EB%A9%94%EC%8B%9C%EC%A7%80-%EC%A0%84%EB%8B%AC-%EB%B3%B4%EC%9E%A5-%EB%B0%A9%EC%8B%9D/">Kafka 메시지 전달 보장 방식</a><li><a href="/posts/Transactional-Outbox-%ED%8C%A8%ED%84%B4/">Transactional Outbox 패턴</a><li><a href="/posts/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%A1%B0%EA%B0%81%ED%99%94/">데이터베이스 인덱스 조각화(Fragmentation)</a><li><a href="/posts/Kafka-DeadLetter-%EA%B4%80%EB%A6%AC/">Kafka DeadLetter 관리</a><li><a href="/posts/Redis-%ED%8A%B9%EC%A7%95/">Redis 특징</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/velopert/">velopert</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/poiemaweb/">poiemaweb</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EC%9B%B9%ED%8C%A9%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0%EC%99%80-%EA%B8%B0%EB%B3%B8-%EB%8F%99%EC%9E%91/"><div class="card-body"> <span class="timeago small" > Mar 16, 2022 <i class="unloaded">2022-03-16T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[프론트엔드 개발환경의 이해와 실습] 웹팩이 필요한 이유와 기본 동작</h3><div class="text-muted small"><p> 웹팩이 필요한 이유 웹팩이 필요한 이유, 즉 해당 기술이 해결하고자 하는 본질에 대해 알아보자. 배경 먼저 모듈에 대해 이야기 해보자. 문법 수준에서 모듈을 지원하기 시작한 것은 ES2015부터다. import/export 구문이 없었던 모듈 이전 상황을 살펴보는 것이 웹팩 등장 배경을 설명하는데 수월할 것 같다. 아래 덧셈 함수를 보자. ...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%97%94%ED%8A%B8%EB%A6%AC-%EC%95%84%EC%9B%83%ED%92%8B-%EC%8B%A4%EC%8A%B5/"><div class="card-body"> <span class="timeago small" > Mar 17, 2022 <i class="unloaded">2022-03-17T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[프론트엔드 개발환경의 이해와 실습] 엔트리/아웃풋 실습</h3><div class="text-muted small"><p> 웹팩의 엔트리와 아웃풋 이전 포스팅에서 웹팩이 필요한 이유에 대해 알아보았다. 짧게 요약하면 모든 브라우저 환경에서 모듈 시스템을 적용하기 위해서이다. 출처: webpack.js.org 왼쪽 이미지처럼 웹팩은 js를 비롯한 여러 모듈들을 하나로 묶어주는 번들러 역할을 한다. 이전 예시에서 app.js는 math.js 파일을 import 키워드로 ...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%A1%9C%EB%8D%94/"><div class="card-body"> <span class="timeago small" > Mar 18, 2022 <i class="unloaded">2022-03-18T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[프론트엔드 개발환경의 이해와 실습] 모듈</h3><div class="text-muted small"><p> 로더 로더의 역할 웹팩은 모든 파일을 모듈로 바라본다. 자바스크립트로 만든 모듈 뿐만아니라 스타일시트, 이미지, 폰트 까지도 전부 모듈로 보기 때문에 import 구문을 사용하면 자바스크립트 코드 안으로 가져올수 있다. 이것이 가능한 이유는 웹팩의 로더 덕분이다. 로더는 타입스크립트 같은 다른 언어를 자바스크립트 문법으로 변환해 주거나 이미지를 d...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EC%9B%B9%ED%8C%A9-%EA%B0%9C%EB%B0%9C-%EC%84%9C%EB%B2%84/" class="btn btn-outline-primary" prompt="Older"><p>[프론트엔드 개발환경의 이해와 실습] 웹팩 개발 서버</p></a> <a href="/posts/%EC%9B%B9%ED%8C%A9-%ED%95%AB%EB%A1%9C%EB%94%A9/" class="btn btn-outline-primary" prompt="Newer"><p>[프론트엔드 개발환경의 이해와 실습] 웹팩 핫로딩</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/jeonyoungho_o">jeonyoungho</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/effectivejava/">effectivejava</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/es6/">es6</a> <a class="post-tag" href="/tags/velopert/">velopert</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/poiemaweb/">poiemaweb</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://jeonyoungho.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
